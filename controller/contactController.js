const Contact=require("../dbSchemas/contactSchema");class ContactController{async createMessage(e,s){try{let{name:t,email:a,subject:r,message:n}=e.body,o=new Contact({name:t,email:a,subject:r,message:n});await o.save(),s.status(201).json({message:"Message Added Successfully"})}catch(c){console.error(c),s.status(500).json({message:"An error occurred while adding message to the database"})}}async readMessages(e,s){try{let t=await Contact.find();s.status(200).json(t)}catch(a){console.error(a),s.status(500).json({message:"An error occurred while retrieving messages!"})}}async getMessageById(e,s){try{let{id:t}=e.params,a=await Contact.findById(t);if(!a)return s.status(404).json({message:"Message Not Found!"});s.status(200).json(a)}catch(r){s.status(500).json({message:"An error occurred while retrieving the message"})}}async deleteMessage(e,s){try{let{id:t}=e.params,a=await Client.findByIdAndDelete(t);if(!a)return s.status(404).json({message:"Message not found"});s.status(200).json({message:"Message deleted successfully"})}catch(r){console.error(r),s.status(500).json({message:"An error occurred while deleting the message"})}}}module.exports=new ContactController;